var UTILS={debug:!0,log:function(e,t){UTILS.debug&&(t=t?t:"",console.log(e))}};$(document).on("ready",function(){Parse.initialize("hIP8KstprKjGsmE4VVHT86i2m1VobE8Mc0x7pBi6","ixAsSo9S7uCHLCKqdfKhUt1ZNcOBGX129Toy8QyO");var e=Parse.Object.extend("Habit"),t=new Parse.Query(e),a=[];t.equalTo("userId",Parse.User.current().id),t.descending("createdAt"),t.find({success:function(e){for(var t=0,d=e.length;d>t;t++){var o=e[t],n=$("#habit-list-template").html(),i=Handlebars.compile(n),r={id:o.id,name:o.get("name"),img:o.get("img")?o.get("img").url():"../img/logo.jpg",timesPerDay:o.get("timesPerDay"),doneToday:o.get("doneToday"),currentRecord:o.get("currentRecord"),bestRecord:o.get("bestRecord"),dayOfWeek:o.get("dayOfWeek")};a.push(r)}if(a.length||$(".loader").css({display:"none"}),i){var s=i(a);$("#habit-list").html(s),a.forEach(function(e){for(var t=e.id,a=$("#"+t),d=0,o=e.dayOfWeek.length;o>d;d++)a.find(".weekly-view-"+e.dayOfWeek[d]).addClass("active");var n=["sun","mon","tues","wed","thu","fri","sat"],i=new Date,r=i.getDay(),s=a.find(".status-bar")[0];if(a.find(".weekly-view-"+n[r]).addClass("today"),-1===e.dayOfWeek.indexOf(n[r]))a.find(".op-done").addClass("disabled"),a.find(".status-bar-wrapper").css("background-color","white"),$(s).animate({width:"100%",opacity:.35}),a.find(".message-today").html("<strong>You're good today!</strong>"),a.find(".op-done").css({"box-shoadw":"none","background-color":"#48ba87",opacity:"0.35"});else{var c=a.find(".times-done-today")[0].textContent,g=a.find(".times-per-day")[0].textContent,l=c/g*100;$(s).animate({width:l+"%"})}})}},error:function(e){UTILS.log("Error: "+e.code+" "+e.message)}})});